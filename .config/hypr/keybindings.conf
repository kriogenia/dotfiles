# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                         Keybinds                            ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

# example binds, see https://wiki.hyprland.org/configuring/binds/ for more

# Grouping of binds for easier management
#  $d=[Group Name|Subgroup Name1|Subgroup Name2|...]
# '$d' is a variable that is used to group binds together (or use another variable)
# This is only for organization purposes and is not a defined hyprland variable
# What we did here is to modify the Description of the binds to include the group name
# The will be parsed as a separate key to be use for a GUI or something pretty
# [Main|Subgroup1|Subgroup2|...]
# Main - The main groupname
# Subgroup1.. - The subgroup names can be use to avoid repeating the same description


# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                    Window Management                        ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

bindd = $mainMod, Q,      Close focused window,  killactive
bindd = Alt, F4,          Close focused window,  exec, hyprctl dispatch killactive ""
bindd = $mainMod, Delete, Kill hyprland session, exec, uwsm stop
bindd = $mainMod, W,      Toggle floating,       togglefloating
bindd = Shift, F11,       Toggle fullscreen,     fullscreen
bindd = $mainMod, J,      Toggle split,          togglesplit

# bindd = $mainMod, P,      Toogle pseudo,         pseudo, # dwindle
# bindd = $mainMod, Y, Pin current window (shows on all workspaces), pin, 

bindd = $mainMod, G,          Toggle group,                    togglegroup
bindd = $mainMod Control, H,  Change active group backwards,   changegroupactive, b
bindd = $mainMod Control, L,  Change active group forwards,    changegroupactive, f

bindd = $mainMod, Left,           Focus left,            movefocus, l
bindd = $mainMod, Right,          Focus right,           movefocus, r
bindd = $mainMod, Up,             Focus up,              movefocus, u
bindd = $mainMod, Down,           Focus down,            movefocus, d
bindd = ALT, Tab,                 Cycle focus,           cyclenext

# bindde = $mainMod Shift, Right,   Resize window right,   resizeactive, 30 0
# bindde = $mainMod Shift, Left,    Resize window left,    resizeactive, -30 0
# bindde = $mainMod Shift, Up,      Resize window up,      resizeactive, 0 -30
# bindde = $mainMod Shift, Down,    Resize  window down,   resizeactive, 0 30

# Move active window around current workspace with mainMod + Shift + Control [←→↑↓]
$moveactivewindow=grep -q "true" <<< $(hyprctl activewindow -j | jq -r .floating) && hyprctl dispatch moveactive
bindde = $mainMod Shift, left,    Move active window to the left,    exec, $moveactivewindow -30 0 || hyprctl dispatch movewindow l
bindde = $mainMod Shift, right,   Move active window to the right,   exec, $moveactivewindow 30 0 || hyprctl dispatch movewindow r
bindde = $mainMod Shift, up,      Move active window up,             exec, $moveactivewindow  0 -30 || hyprctl dispatch movewindow u
bindde = $mainMod Shift, down,    Move active window down,           exec, $moveactivewindow 0 30 || hyprctl dispatch movewindow d

# Move/Resize focused window
binddm = $mainMod, mouse:272,   Hold to move window, movewindow
binddm = $mainMod, mouse:273,   Hold to resize window, resizewindow
binddm = $mainMod, Z,           Hold to move window, movewindow
binddm = $mainMod, X,           Hold to resize window, resizewindow

# # Activate keyboard window resize mode
# # https://wiki.hyprland.org/Configuring/Binds/#submaps
bindd = $mainMod, P,  Activates window resizing mode,    submap, resize
submap = resize
bindd = , right,      Resize to the right,               resizeactive, 15 0
bindd = , left,       Resize to the left,                resizeactive, -15 0
bindd = , up,         Resize upwards,                    resizeactive, 0 -15
bindd = , down,       Resize downwards,                  resizeactive, 0 15
bindd = , l,          Resize to the right,               resizeactive, 15 0
bindd = , h,          Resize to the left,                resizeactive, -15 0
bindd = , k,          Resize upwards,                    resizeactive, 0 -15
bindd = , j,          Resize downwards,                  resizeactive, 0 15
bindd = , escape,     Ends window resizing mode,         submap, reset
submap = reset

# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                   Session Management                        ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

bindd = $mainMod, L,          Lock screen,   exec, $lockscreen

bindd = Control Alt, Delete,  logout menu,   exec, wlogout -b 6

# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                   Desktop Environment                       ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

bindd = $mainMod, M,        Toggle shell,                 exec, $bar
bindd = $mainMod, T,        Terminal emulator,            exec, $terminal
bindd = $mainMod, E,        File explorer,                exec, $explorer
bindd = $mainMod Shift, E,  Visual file explorer,         exec, $altexplorer
bindd = $mainMod, B,        Web browser,                  exec, $browser
bindd = $mainMod Shift, B,  Alternate web browser,        exec, $altbrowser
bindd = $mainMod, C,        Text editor,                  exec, $editor
bindd = $mainMod, S,        Screen capture selection,     exec, $screenshot
bindd = $mainMod, N,        Toggle notifications panel,   exec, $notification_panel

# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                         Launcher                            ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

bindd = $mainMod, Space,    Actions runner,               exec, $launcher action
bindd = $mainMod, R,        Application launcher,         exec, $launcher app
bindd = $mainMod, V,        Clipboard history,            exec, $launcher clipboard
# bindd = $mainMod Shift, E, file finder , exec, pkill -x rofi || $rofi-launch f
# bindd = $mainMod, slash, keybindings hint, exec, pkill -x rofi || $scrPath/keybinds_hint.sh c # launch keybinds hint
# bindd = $mainMod, period, glyph picker , exec, pkill -x rofi || $scrPath/glyph-picker.sh # launch glyph picker
# bindd = $mainMod Shift, A, select rofi launcher , exec, pkill -x rofi || $scrPath/rofiselect.sh # launch select menu
# bindd = $mainMod, TAB,      Window switcher,    exec, pkill -x rofi || $launcher -show window

# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                    Hardware Controls                        ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

bindd = $mainMod, K,              Layout switcher ,    exec, $DOTFILES_BIN/swap_kb.sh $keyboard

binddel = , XF86AudioRaiseVolume, Toggle mute output,  exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
binddel = , XF86AudioLowerVolume, Un/mute microphone,  exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
binddl  = , XF86AudioMute,        Decrease volume,     exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
binddl  = , XF86AudioMicMute,     Increase volume,     exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle

binddl = , XF86AudioPlay,         Play media,          exec, playerctl play-pause # TODO: check not working
binddl = , XF86AudioPause,        Pause media,         exec, playerctl play-pause
binddl = , XF86AudioNext,         Next media,          exec, playerctl next
binddl = , XF86AudioPrev,         Previous media,      exec, playerctl previous

source = ./keybindings/brightness.conf

# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                         Workspaces                          ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

bindd = $mainMod, 1,                  Navigate to workspace 1,                   workspace, 1
bindd = $mainMod, 2,                  Navigate to workspace 2,                   workspace, 2
bindd = $mainMod, 3,                  Navigate to workspace 3,                   workspace, 3
bindd = $mainMod, 4,                  Navigate to workspace 4,                   workspace, 4
bindd = $mainMod, 5,                  Navigate to workspace 5,                   workspace, 5
bindd = $mainMod, 6,                  Navigate to workspace 6,                   workspace, 6
bindd = $mainMod, 7,                  Navigate to workspace 7,                   workspace, 7
bindd = $mainMod, 8,                  Navigate to workspace 8,                   workspace, 8
bindd = $mainMod, 9,                  Navigate to workspace 9,                   workspace, 9
bindd = $mainMod, 0,                  Navigate to workspace 10,                  workspace, 10
bindd = $mainMod Control, Down,       Navigate to the nearest empty workspace,   workspace, empty
bindd = $mainMod, PERIOD,             Next workspace,                            workspace, e+1
bindd = $mainMod, COMMA,              Previous workspace,                        workspace, e-1
bindd = $mainMod, mouse_down,         Next workspace,                            workspace, e+1
bindd = $mainMod, mouse_up,           Previous workspace,                        workspace, e-1
bindd = $mainMod, slash,              Switch to the previous workspace,          workspace, previous

bindd = $mainMod Control, Right,      Change active workspace forwards,          workspace, r+1
bindd = $mainMod Control, Left,       Change active workspace backwards,         workspace, r-1

bindd = $mainMod Shift, 1,            Move to workspace 1,                   movetoworkspace, 1
bindd = $mainMod Shift, 2,            Move to workspace 2,                   movetoworkspace, 2
bindd = $mainMod Shift, 3,            Move to workspace 3,                   movetoworkspace, 3
bindd = $mainMod Shift, 4,            Move to workspace 4,                   movetoworkspace, 4
bindd = $mainMod Shift, 5,            Move to workspace 5,                   movetoworkspace, 5
bindd = $mainMod Shift, 6,            Move to workspace 6,                   movetoworkspace, 6
bindd = $mainMod Shift, 7,            Move to workspace 7,                   movetoworkspace, 7
bindd = $mainMod Shift, 8,            Move to workspace 8,                   movetoworkspace, 8
bindd = $mainMod Shift, 9,            Move to workspace 9,                   movetoworkspace, 9
bindd = $mainMod Shift, 0,            Move to workspace 10,                  movetoworkspace, 10
bindd = $mainMod Control+Alt, Right,  Move to next relative workspace,       movetoworkspace, r+1
bindd = $mainMod Control+Alt, Left,   Move to previous relative workspace,   movetoworkspace, r-1

bindd = $mainMod Shift, minus,        Move to special workspace,             movetoworkspace, special
bindd = $mainMod, minus,              Toggle special workspace,              togglespecialworkspace
bindd = $mainMod, grave,              Toggle discord workspace,              togglespecialworkspace, communication  # grave = `

bindd = $mainMod Alt, 1,              Move to workspace 1  (silent),   movetoworkspacesilent, 1
bindd = $mainMod Alt, 2,              Move to workspace 2  (silent),   movetoworkspacesilent, 2
bindd = $mainMod Alt, 3,              Move to workspace 3  (silent),   movetoworkspacesilent, 3
bindd = $mainMod Alt, 4,              Move to workspace 4  (silent),   movetoworkspacesilent, 4
bindd = $mainMod Alt, 5,              Move to workspace 5  (silent),   movetoworkspacesilent, 5
bindd = $mainMod Alt, 6,              Move to workspace 6  (silent),   movetoworkspacesilent, 6
bindd = $mainMod Alt, 7,              Move to workspace 7  (silent),   movetoworkspacesilent, 7
bindd = $mainMod Alt, 8,              Move to workspace 8  (silent),   movetoworkspacesilent, 8
bindd = $mainMod Alt, 9,              Move to workspace 9  (silent),   movetoworkspacesilent, 9
bindd = $mainMod Alt, 0,              Move to workspace 10 (silent),   movetoworkspacesilent, 10

# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                         Miscellanea                         ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

# TODO: gamemode
# $d=[$ut]
# bindd = $mainMod Alt, G, game mode , exec, $scrPath/gamemode.sh # disable hypr effects for gamemode
# bindd = $mainMod Shift, G, open game launcher , exec, $scrPath/gamelauncher.sh # run game launcher for steam and lutris

# TODO:evaluate
# $d=[$ut|Screen Capture]
# bindd = $mainMod, P, snip screen , exec, $scrPath/screenshot.sh s # partial screenshot capture
# bindd = $mainMod Control, P, freeze and snip screen, exec, $scrPath/screenshot.sh sf # partial screenshot capture (frozen screen)
# win+shift+s?
